{"ast":null,"code":"import { api } from \"../helpers\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nexport var clientesApi = {\n  getData: getData,\n  getItem: getItem,\n  getCategorias: getCategorias,\n  getServicios: getServicios,\n  getEmergencias: getEmergencias,\n  getCajeros: getCajeros,\n  getComidas: getComidas,\n  registro: registro,\n  login: login,\n  sendPanico: sendPanico,\n  getUsuario: getUsuario\n};\n\nfunction sendPanico(usuario) {\n  var requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(usuario)\n  };\n  return fetch(api + \"/usuarios/panico\", requestOptions).then(handleResponse);\n}\n\nfunction login(usuario) {\n  var requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(usuario)\n  };\n  return fetch(api + \"/usuarios/login\", requestOptions).then(handleResponse).then(function (response) {\n    var jsonUserId = JSON.stringify(response.result.user.id);\n    AsyncStorage.setItem('userId', jsonUserId);\n    return response;\n  });\n}\n\nfunction registro(data) {\n  var requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  };\n  return fetch(api + \"/usuarios\", requestOptions).then(handleResponse);\n}\n\nfunction getServicios() {\n  var requestOptions = {\n    method: \"GET\"\n  };\n  return fetch(api + \"/consultas/lista/servicios\", requestOptions).then(handleResponse);\n}\n\nfunction getEmergencias() {\n  var requestOptions = {\n    method: \"GET\"\n  };\n  return fetch(api + \"/consultas/lista/emergencias\", requestOptions).then(handleResponse);\n}\n\nfunction getCajeros() {\n  var requestOptions = {\n    method: \"GET\"\n  };\n  return fetch(api + \"/consultas/lista/cajeros\", requestOptions).then(handleResponse);\n}\n\nfunction getComidas() {\n  var requestOptions = {\n    method: \"GET\"\n  };\n  return fetch(api + \"/consultas/lista/comidas\", requestOptions).then(handleResponse);\n}\n\nfunction getCategorias(itemId) {\n  var requestOptions = {\n    method: \"GET\"\n  };\n  return fetch(api + \"/categorias/listar/0\", requestOptions).then(handleResponse);\n}\n\nfunction getItem(itemId) {\n  var requestOptions = {\n    method: \"GET\"\n  };\n  return fetch(api + \"/consultas/\" + itemId, requestOptions).then(handleResponse);\n}\n\nfunction getUsuario(itemId) {\n  var requestOptions = {\n    method: \"GET\"\n  };\n  return fetch(api + \"/usuarios/\" + itemId, requestOptions).then(handleResponse);\n}\n\nfunction getData(page, num, categoriaId, estado, nombre) {\n  var requestOptions = {\n    method: \"GET\"\n  };\n  return fetch(api + \"/consultas/lista/\" + page + \"/\" + num + \"/\" + categoriaId + \"/\" + estado + \"/\" + nombre, requestOptions).then(handleResponse);\n}\n\nfunction handleResponse(response) {\n  return response.text().then(function (text) {\n    var data = text && JSON.parse(text);\n\n    if (!response.ok) {\n      if (response.status === 401) {}\n\n      var error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}","map":{"version":3,"sources":["/home/gabriel/Documentos/1click/Mobil/src/api/clientesApi.js"],"names":["api","AsyncStorage","clientesApi","getData","getItem","getCategorias","getServicios","getEmergencias","getCajeros","getComidas","registro","login","sendPanico","getUsuario","usuario","requestOptions","method","headers","body","JSON","stringify","fetch","then","handleResponse","response","jsonUserId","result","user","id","setItem","data","itemId","page","num","categoriaId","estado","nombre","text","parse","ok","status","error","message","statusText","Promise","reject"],"mappings":"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","sourcesContent":["import {api} from '../helpers'\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n\nexport const clientesApi = {\n    getData,\n    getItem,\n    getCategorias,\n    getServicios,\n    getEmergencias,\n    getCajeros,\n    getComidas,\n    registro,\n    login,\n    sendPanico,\n    getUsuario\n}    \n\nfunction sendPanico(usuario){\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(usuario),\n    };\n   return fetch(`${api}/usuarios/panico`, requestOptions)\n    .then(handleResponse);   \n  }\n  \nfunction login(usuario) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(usuario),\n  };\n\n  return fetch(`${api}/usuarios/login`, requestOptions)\n    .then(handleResponse)\n    .then((response) => {      \n      const jsonUserId = JSON.stringify(response.result.user.id)            \n      AsyncStorage.setItem('userId', jsonUserId)      \n      return response;\n    });\n}\nfunction registro(data) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  };\n\n  return fetch(`${api}/usuarios`, requestOptions).then(handleResponse);\n}\n\nfunction getServicios (){\n  const requestOptions = {\n      method: \"GET\",            \n    };\n   return fetch(`${api}/consultas/lista/servicios`, requestOptions)\n    .then(handleResponse);   \n  }\n\nfunction getEmergencias (){\n    const requestOptions = {\n        method: \"GET\",            \n      };\n     return fetch(`${api}/consultas/lista/emergencias`, requestOptions)\n      .then(handleResponse);   \n    }\n\nfunction getCajeros (){\n      const requestOptions = {\n          method: \"GET\",            \n        };\n       return fetch(`${api}/consultas/lista/cajeros`, requestOptions)\n        .then(handleResponse);   \n   }\n\nfunction getComidas (){\n    const requestOptions = {\n        method: \"GET\",            \n      };\n     return fetch(`${api}/consultas/lista/comidas`, requestOptions)\n      .then(handleResponse);   \n }   \n\nfunction getCategorias (itemId){\n  const requestOptions = {\n      method: \"GET\",            \n    };\n   return fetch(`${api}/categorias/listar/0`, requestOptions)\n    .then(handleResponse);   \n  }  \n  \n  \n\nfunction getItem (itemId){\n  const requestOptions = {\n      method: \"GET\",            \n    };\n   return fetch(`${api}/consultas/${itemId}`, requestOptions)\n    .then(handleResponse);   \n  }\n\nfunction getUsuario (itemId){\n    const requestOptions = {\n        method: \"GET\",            \n      };\n     return fetch(`${api}/usuarios/${itemId}`, requestOptions)\n      .then(handleResponse);   \n    }\n  \nfunction getData (page,num,categoriaId,estado,nombre){\n    const requestOptions = {\n        method: \"GET\",            \n      };\n     return fetch(`${api}/consultas/lista/${page}/${num}/${categoriaId}/${estado}/${nombre}`, requestOptions)\n      .then(handleResponse);   \n    }\n\nfunction handleResponse(response) {\n      return response.text().then((text) => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n          if (response.status === 401) {\n            \n          }    \n          const error = (data && data.message) || response.statusText;\n          return Promise.reject(error);\n        }\n    \n        return data;\n      });\n    }"]},"metadata":{},"sourceType":"module"}